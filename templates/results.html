{% extends "layout.html" %}

{% block title %}
    Results
{% endblock %}

{% block script %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelector('#tiempoCiclo').onchange = function() {
        console.log('{{numerator}}');
        console.log(document.querySelector('#tiempoCiclo').value);
        let result = ('{{ numerator }}' / (document.querySelector('#tiempoCiclo').value * '{{ number_op }}') * 100);
        document.querySelector('#equilibrado').innerHTML = '%' + result;
      }
    })
  </script>
{% endblock %}

{% block main %}
<div class="" id="equi">
  <div class="row">
    <div class="col-3">
      <h5>Tiempo de ciclo</h5>
    </div>
    <div class="col-3">
      <h5>Equilibrado</h5>
    </div>
  </div>

  <div class="row">
    <div class="col-3" >
      <input id="tiempoCiclo" type="number" step="0.01" name="intiempoCiclo" value="{{ tiempo_ciclo }}">
    </div>
    <div class="col-3">
      <div id="equilibrado">%{{ equilibrado }}</div>
    </div>
  </div>
</div>
<br>
  <table class="table">
    <thead>
      <tr>
        <th>Operario</th>
        <th>Tareas</th>
        <th>Tiempo</th>
      </tr>
    </thead>
    <tbody>
      {% for info in op %}
        <tr>
          <td>operador: {{ info + 1 }}</td>
          <td>
            <ul>
              {% for i in op[info][0] %}
                <li>{{ i }}</li>
              {% endfor %}
            </ul>
          </td>
          <td>{{ op[info][1] }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
